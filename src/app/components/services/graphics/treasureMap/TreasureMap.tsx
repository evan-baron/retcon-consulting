'use client';

// Library imports
import React, { useState, useEffect } from 'react';

// Styles imports
import styles from './treasureMap.module.scss';

// MUI imports
import { Email, LocalPhone } from '@mui/icons-material';

//React-Icons imports
import { IoChatboxOutline } from 'react-icons/io5';

// Components imports
import AnimatedChart from '../animatedChart/AnimatedChart';

const TreasureMap = () => {
	const [activeDot, setActiveDot] = useState(0);

	// Animation for chatbox dots
	useEffect(() => {
		const interval = setInterval(() => {
			setActiveDot((prev) => (prev + 1) % 4);
		}, 650);
		return () => clearInterval(interval);
	}, []);

	return (
		<div className={styles['process-diagram']}>
			<div className={styles.map}>
				<div className={styles.start}>
					<div className={styles.lines}></div>
					<Email className={styles.icon} />
				</div>
				<div className={styles.chatbox}>
					<div className={styles.phone}>
						<div className={styles.lines}>
							<div className={styles.line}></div>
						</div>
						<LocalPhone className={styles.icon} />
					</div>
					<div className={styles.chat}>
						<div className={styles.ellipsis}>
							<span className={activeDot > 0 ? styles.visible : ''}></span>
							<span className={activeDot > 1 ? styles.visible : ''}></span>
							<span className={activeDot > 2 ? styles.visible : ''}></span>
						</div>
						<IoChatboxOutline className={styles.icon} />
					</div>
				</div>
				<div className={styles.desktop}>
					<div className={styles.monitor}>
						<div className={styles.screen}>
							<div className={styles.graph}>
								<AnimatedChart strokeWidth={24} />
							</div>
							<div className={styles.slide}>
								<div
									className={`${styles.lines} ${
										activeDot > 0 ? styles.visible : ''
									}`}
								>
									<span></span>
									<span style={{ width: '80%' }}></span>
								</div>
								<div
									className={`${styles.lines} ${
										activeDot > 1 ? styles.visible : ''
									}`}
								>
									<span></span>
									<span style={{ width: '60%' }}></span>
								</div>
								<div
									className={`${styles.lines} ${
										activeDot > 2 ? styles.visible : ''
									}`}
								>
									<span></span>
									<span style={{ width: '70%' }}></span>
								</div>
							</div>
						</div>
					</div>
					<div className={styles.base}>
						<div className={styles.stand}></div>
						<div className={styles.platform}></div>
					</div>
				</div>
				<div className={styles.handshake}>
					<svg
						version='1.2'
						xmlns='http://www.w3.org/2000/svg'
						viewBox='0 0 400 400'
						width='400'
						height='400'
					>
						<path
							id='Path 0'
							fillRule='evenodd'
							className='s0'
							d='m72.95 67.99c0.85 0 3.86 1.46 6.68 3.25 2.83 1.79 9.1 5.51 13.94 8.26 4.84 2.75 10.85 6.95 13.36 9.34 4.53 4.3 4.56 4.38 3.75 9-0.45 2.56-0.9 5.77-1 7.13-0.17 2.29 0.5 2.68 8.82 5.13 5.2 1.53 13.02 2.93 28 3.98l3.5-3.48c1.93-1.92 4.85-4 6.5-4.64 1.65-0.63 8.18-2.05 14.5-3.15 6.32-1.09 14.87-2.43 19-2.97 4.12-0.54 17.18-0.79 29-0.54 15.15 0.31 23.27 0.9 27.5 2.02 3.3 0.87 10.95 2.73 17 4.14 6.87 1.6 13.91 2.56 26.5 2.54l-0.62-5.25c-0.57-4.78-0.37-5.55 2.25-8.64 1.58-1.86 4.44-4.24 6.37-5.28 1.93-1.04 5.52-3.19 8-4.78 2.48-1.58 7.65-4.74 11.5-7 3.85-2.27 7.79-4.33 8.75-4.59 1.07-0.28 3.01 0.81 5 2.82 1.79 1.8 4.8 5.96 6.69 9.25 1.9 3.28 4.19 7.32 5.1 8.97 0.91 1.65 6.5 11.55 12.43 22 5.93 10.45 11.77 20.8 12.98 23 1.21 2.2 4.15 7.6 6.52 12 2.38 4.4 4.84 8.68 5.47 9.5 0.63 0.82 1.94 3.07 2.91 5 0.97 1.93 2.98 5.62 4.46 8.22 1.48 2.59 4.3 7.54 6.27 11 1.97 3.45 4.1 7.74 4.75 9.53 0.92 2.56 0.88 4.04-0.19 7-1.1 3.05-2.73 4.58-8.75 8.19-4.06 2.44-10.77 6.61-14.89 9.28-4.13 2.66-9.07 5.11-11 5.44-2.46 0.42-4.51 0.04-6.87-1.28-1.86-1.03-4.22-3.57-7.13-9.38l-17 14 2.16 4.25c1.68 3.3 2.06 5.48 1.72 9.75-0.34 4.27-1.22 6.57-3.91 10.27-2.43 3.35-4.89 5.36-8.22 6.75-2.7 1.13-7.02 1.98-15.25 1.96l-1.76 7.26c-1.41 5.81-2.51 8.01-5.5 10.99-2.55 2.54-5.49 4.2-9.24 5.24-3.02 0.83-6.74 1.52-8.25 1.52-2.47 0.01-2.82 0.45-3.39 4.26-0.35 2.34-1.45 5.82-2.45 7.75-1 1.93-2.85 4.49-4.11 5.69-1.27 1.21-3.99 2.9-6.05 3.75-2.06 0.86-6.45 1.56-9.75 1.56-5.21 0-6.16 0.3-7.18 2.25-0.65 1.24-3.24 4.45-5.75 7.14-2.97 3.18-6.85 5.92-11.07 7.82-5.64 2.54-7.36 2.87-13 2.46-3.57-0.26-11.9-1.6-18.5-2.98-6.6-1.38-13.46-3-15.25-3.6-3.11-1.04-3.44-0.89-7.5 3.4-2.82 2.98-6.1 5.18-15.25 8.53l-5.5-2.39c-3.47-1.5-7.26-4.28-10.25-7.51-3.34-3.6-5.05-6.46-6.75-14.12l-3.75 2c-2.06 1.11-5.44 2.01-7.5 2-2.06 0-5.21-0.72-7-1.61-1.79-0.88-5.19-3.47-7.56-5.75-2.36-2.28-5.19-6.16-6.27-8.64-1.08-2.48-1.96-5.29-1.94-6.25 0.01-0.96-0.32-1.76-0.73-1.78-0.41-0.01-2.33 0.61-4.25 1.39-3.11 1.25-4.11 1.2-9-0.43-4.15-1.38-6.78-3.19-10.75-7.38-4.25-4.49-5.45-6.55-6.29-10.8-0.73-3.65-0.73-6.09 0-8 0.57-1.51 1.04-2.98 1.04-3.25 0-0.27-0.79-0.28-1.75 0-0.96 0.27-4.45-0.2-7.75-1.05-4.32-1.11-7.06-2.58-9.79-5.25-2.08-2.03-4.67-5.5-5.74-7.7-1.07-2.2-2.07-6.05-2.21-8.55-0.19-3.39 0.44-5.88 5.24-14.95l-3.61-4.75c-1.99-2.61-3.78-4.97-3.98-5.25-0.2-0.27-2.4 1.41-4.89 3.75-2.49 2.34-5.31 4.26-6.27 4.26-0.96 0.01-4.45-1.63-7.75-3.65-3.3-2.03-9.15-5.53-13-7.8-3.85-2.26-8.8-5.27-11-6.68-2.87-1.84-4.33-3.67-5.18-6.47-0.92-3.07-0.9-4.66 0.12-7.41 0.7-1.93 4.32-8.9 8.04-15.5 3.71-6.6 10.26-18.07 14.55-25.5 4.3-7.43 9.53-16.7 11.64-20.62 2.11-3.92 9.41-17.19 16.24-29.5 6.82-12.31 14-24.07 15.95-26.13 1.95-2.06 4.24-3.75 5.09-3.76zm-15.5 48.51c-3.73 6.6-7.65 13.57-8.72 15.5-1.06 1.93-9.04 16.1-17.73 31.5-14.94 26.47-15.71 28.08-13.98 29.5 1 0.82 4.14 2.85 6.98 4.5 2.84 1.65 6.81 4.04 8.83 5.32 2.88 1.82 3.83 2.04 4.4 1 0.41-0.73 0.75-1.66 0.75-2.07 0.01-0.41 6.15-11.66 13.64-25 7.5-13.34 14.64-26.05 15.88-28.25 1.24-2.2 4.36-7.82 6.94-12.5 2.57-4.68 5.08-9.17 5.57-10 0.48-0.82 3.9-6.9 7.59-13.5 3.69-6.6 7.43-12.8 8.3-13.78 0.88-0.98 1.15-1.76 0.6-1.73-0.55 0.03-3.25-1.38-6-3.13-2.75-1.76-7.03-4.48-9.5-6.05-2.47-1.57-4.82-2.84-5.2-2.83-0.39 0.01-3.15 4.41-6.14 9.77-2.99 5.36-8.49 15.15-12.21 21.75zm252.55-18.98c-3.58 2.03-6.62 3.75-6.77 3.83-0.15 0.08 1.37 3.08 3.38 6.65 2.01 3.58 4.6 8.18 5.77 10.23 1.17 2.05 10.13 18.02 19.92 35.5 9.79 17.47 18.2 32.45 18.69 33.27 0.49 0.82 3.39 6.11 6.45 11.75 3.06 5.64 5.79 10.25 6.06 10.25 0.27 0 2.64-1.46 5.25-3.25 2.61-1.79 6.32-4.01 8.25-4.93 1.92-0.93 4.46-2.5 5.63-3.5l2.13-1.82c-17.04-30.22-23.34-41.47-24.99-44.5-1.65-3.02-4.86-8.81-7.14-12.85-2.27-4.05-5.09-9-6.25-11-1.17-2.01-6.28-11.07-11.35-20.15-5.07-9.07-9.54-16.82-9.92-17.21-0.38-0.39-2.47 0.36-4.65 1.67-2.18 1.3-6.89 4.03-10.46 6.06zm-130.5 18.41c-8.23 0.8-14.56 1.96-17.25 3.16-3.02 1.36-5.54 3.72-8.71 8.16-2.45 3.44-5.31 7.38-6.35 8.75-1.05 1.38-5.25 7.45-9.33 13.5-4.09 6.05-8.22 12.57-9.17 14.5-0.95 1.93-1.73 3.95-1.73 4.5 0.01 0.62 1.63 0.73 4.27 0.3 2.35-0.39 7.19-2.14 10.77-3.89 4.32-2.11 8.18-5.03 11.5-8.72 2.75-3.05 7.25-7.75 10-10.45 2.75-2.7 7.02-5.95 9.5-7.22 2.47-1.27 7.2-3.08 10.5-4.02 4.21-1.21 7.34-1.5 10.5-0.98 2.47 0.4 9.45 3.31 15.5 6.46 6.05 3.15 12.8 6.93 15 8.4 2.2 1.48 4.34 2.67 4.75 2.65 0.41-0.02 1.99 0.81 3.5 1.83 1.51 1.03 7.37 4.74 13.01 8.25 5.65 3.52 12.03 7.52 14.19 8.89 2.15 1.38 8.56 5.66 14.23 9.51 5.68 3.86 13.37 9.26 17.1 12 3.73 2.75 12.4 9.6 19.25 15.24 11.34 9.32 12.67 10.15 14.72 9.1 1.24-0.63 5.4-3.85 9.25-7.14 3.85-3.3 7.14-6.27 7.31-6.6 0.17-0.34-0.42-2.18-1.3-4.11-0.88-1.93-2.82-5.64-4.3-8.25-1.49-2.61-8.24-14.54-15.01-26.5-6.76-11.96-12.7-22.43-13.2-23.25-0.49-0.82-3.06-5.42-5.7-10.2l-4.8-8.71c-16.98 0.96-23.68 0.73-28-0.02-3.85-0.66-9.03-1.84-11.5-2.61-2.48-0.78-9.23-2.19-15-3.13-6.47-1.07-17.41-1.83-28.5-1.99-9.9-0.14-18.9 0.1-20 0.54-1.1 0.44-7.85 1.36-15 2.05zm-100.76 41.95c-1.52 2.54-3.68 6.42-4.8 8.62-1.12 2.2-2.98 5.57-4.13 7.5-1.16 1.93-4.74 8.22-7.96 14-3.22 5.78-5.84 10.95-5.81 11.5 0.02 0.55 1.83 3.14 4 5.75l3.96 4.75c7.31-3.79 10.17-4.39 14.5-4.35 3.62 0.04 7.78 0.84 10.5 2.02 2.47 1.07 6.46 3.72 8.84 5.89l4.35 3.94c2.57-3.32 4.88-5.06 6.81-6.02 1.92-0.95 5.97-1.95 9-2.23 3.81-0.35 7.3 0.07 11.37 1.37 3.89 1.25 7.59 3.43 11 6.49 2.82 2.53 6.11 6.58 7.3 9 1.2 2.41 2.55 6.15 3 8.31 0.72 3.4 1.42 4.17 5.33 5.85 2.47 1.07 6.23 3.36 8.33 5.09 2.35 1.92 5.17 5.86 7.26 10.14 1.88 3.85 3.42 7.79 3.42 8.75-0.01 1 1.17 2.19 2.74 2.78 1.51 0.56 4.26 1.8 6.1 2.75 1.84 0.94 5.05 3.74 7.14 6.22 2.09 2.48 4.98 7.2 6.43 10.5 1.45 3.3 2.62 7.69 2.61 9.75-0.02 2.06-0.82 5.56-1.78 7.76-0.96 2.21-1.36 4.34-0.89 4.75 0.47 0.41 3.62 1.31 7 2.01 3.38 0.7 9.96 1.54 14.64 1.88 6.66 0.47 9.31 0.25 12.25-1.02 2.06-0.9 3.75-2.08 3.75-2.63 0-0.55-1.01-1.45-2.25-2-1.24-0.55-2.93-1.42-3.75-1.94-0.83-0.52-6.68-3.48-13-6.57-6.33-3.09-12.52-6.61-13.76-7.81-1.24-1.2-2.55-3.75-2.92-5.68-0.46-2.46-0.16-4.32 1.01-6.25 0.92-1.51 2.91-3.49 4.42-4.4 2.57-1.53 3.05-1.52 7.25 0.13 2.47 0.98 11.91 5.43 20.97 9.9 15.8 7.79 16.79 8.14 24.5 8.51 7.53 0.36 8.14 0.24 9.79-2 0.96-1.32 1.76-3.07 1.76-3.89 0.01-0.82-1.91-2.52-4.25-3.77-2.35-1.25-6.39-3.5-8.97-5-2.59-1.5-8.44-4.89-13-7.52-4.57-2.63-11.23-6.59-14.8-8.78-3.58-2.2-7.96-5.56-9.75-7.46-1.79-1.91-3.25-3.81-3.25-4.22 0.01-0.41 0.91-2.21 2-4 1.1-1.79 3.57-3.93 5.5-4.75 2.83-1.21 4.13-1.27 6.75-0.33 1.79 0.65 6.08 2.78 9.54 4.75 3.46 1.97 7.79 4.48 9.62 5.58 1.83 1.1 7.1 4.17 11.71 6.82 4.61 2.65 11.3 6.57 14.88 8.7 4.45 2.65 7.76 3.9 10.5 3.97 2.48 0.06 4.84-0.59 6.21-1.7 1.21-0.98 2.45-3.03 2.75-4.54 0.49-2.48 0-3.07-4.99-6-3.04-1.79-9.46-5.59-14.25-8.46-4.8-2.86-10.3-6.15-12.22-7.3-1.93-1.15-5.98-3.62-9-5.49-3.03-1.87-7.08-4.29-9-5.37-1.93-1.09-5.08-3.31-7-4.95-3.04-2.57-3.5-3.55-3.5-7.47 0-3.1 0.62-5.18 2-6.7 1.1-1.21 3.57-2.85 5.5-3.64 3.1-1.27 3.96-1.24 7.5 0.19 2.2 0.89 8.95 4.67 15 8.41 6.05 3.73 12.35 7.53 14 8.44 1.65 0.92 5.02 2.97 7.5 4.56 2.48 1.6 9.34 5.63 15.25 8.97 7.92 4.46 11.75 6.06 14.55 6.06 2.09 0 4.35-0.56 5.02-1.25 0.67-0.69 1.21-3.16 1.2-5.5-0.02-3.88-0.48-4.65-5.27-8.78-2.89-2.49-7.05-5.74-9.25-7.23-2.2-1.49-8.5-6.36-14-10.82-5.5-4.47-11.8-9.32-14-10.79-2.2-1.46-7.15-4.92-11-7.68-3.85-2.76-9.25-6.51-12-8.32-2.75-1.82-8.15-5.33-12-7.81-3.85-2.48-10.51-6.49-14.8-8.92-4.29-2.42-9.92-5.63-12.5-7.14-2.59-1.51-9.2-4.99-14.7-7.72-5.67-2.83-11.41-4.99-13.25-5.01-1.79-0.02-5.12 0.76-7.41 1.72q-4.16 1.75-7.2 6.25c-1.67 2.47-6.88 8.38-11.59 13.13-6.97 7.03-10.03 9.32-16.55 12.36-5.59 2.6-9.96 3.9-14.5 4.29-5.65 0.49-7.25 0.21-12.25-2.11-4.14-1.92-6.52-3.84-8.5-6.85-2.37-3.61-2.74-5.15-2.67-11.25 0.06-5.64 0.68-8.39 3.07-13.57 1.65-3.57 5.78-10.66 9.17-15.75 3.4-5.09 6.19-9.59 6.2-10 0.01-0.41-1.9-1.11-4.25-1.54-2.35-0.44-7.2-1.92-10.77-3.29-3.58-1.37-7.29-2.92-8.25-3.45-0.96-0.54-1.95-0.97-2.2-0.97-0.25 0-4.86 7.93-10.25 17.63-5.39 9.69-11.04 19.71-12.56 22.25zm-7.02 68.62c-1.27 1.65-3.07 4.24-4.01 5.75-0.94 1.51-1.71 3.87-1.71 5.25 0 1.37 0.9 3.85 2 5.5 1.64 2.45 2.68 3 5.75 2.98 3.48-0.02 4.09-0.5 8.5-6.75 3.63-5.14 4.75-7.61 4.75-10.48 0-2.93-0.6-4.2-2.75-5.78-1.51-1.12-3.97-2.02-5.46-2-1.49 0.01-3.17 0.59-3.74 1.28-0.56 0.69-2.06 2.6-3.33 4.25zm43.86 5.15c-1.14 1.73-4.78 6.85-8.08 11.38-3.3 4.53-7.23 9.86-8.73 11.85-1.5 1.99-3.75 5.52-5 7.85-2.02 3.76-2.14 4.65-1.08 8 0.73 2.33 2.17 4.25 3.75 5.02 1.41 0.69 3.12 1.27 3.81 1.3 0.69 0.02 2.84-1.67 4.78-3.75 1.94-2.09 7.56-9.34 12.5-16.11 4.93-6.76 10.43-14.41 12.23-17 1.79-2.58 3.25-5.93 3.25-7.44-0.01-1.72-1.14-3.88-3.01-5.75-1.65-1.65-3.83-3-4.85-3-1.01 0-3.12 1.01-4.67 2.25-1.55 1.24-3.76 3.67-4.9 5.4zm20.88 37.66c-2.23 2.85-5.94 8-8.25 11.44-2.82 4.19-4.2 7.32-4.19 9.5 0 1.79 0.34 3.75 0.75 4.35 0.4 0.61 1.74 1.62 2.98 2.25 1.24 0.63 3.37 1.15 4.75 1.15 1.78 0 3.59-1.36 6.3-4.75 2.08-2.61 4.67-6.05 5.75-7.64 1.07-1.59 2.85-4.1 3.95-5.58 1.1-1.48 3.69-5.24 5.75-8.36 2.06-3.12 3.75-6.8 3.75-8.17 0-1.38-0.34-3.24-0.75-4.14-0.41-0.9-1.99-2.25-3.5-3-1.51-0.75-3.6-1.36-4.65-1.36-1.09 0-3.31 1.93-5.25 4.56-1.84 2.5-5.17 6.89-7.39 9.75zm28.43 26.81c-2.54 3.51-5.46 7.82-6.5 9.58-1.86 3.15-1.86 3.26 0.11 6.79 1.3 2.34 3.04 3.86 5 4.37 1.65 0.44 3.67 0.62 4.5 0.41 0.82-0.21 4.77-4.75 8.76-10.08 6.02-8.03 7.26-10.33 7.25-13.44-0.01-2.8-0.71-4.39-2.76-6.28-1.51-1.4-3.69-2.52-4.85-2.5-1.15 0.01-3.18 1.1-4.5 2.4-1.32 1.31-4.48 5.24-7.01 8.75z'
						/>
					</svg>
				</div>

				<svg
					version='1.2'
					xmlns='http://www.w3.org/2000/svg'
					viewBox='0 0 512 512'
					width='512'
					height='512'
					className={styles['curved-path']}
				>
					<defs>
						<mask id='progress-mask'>
							<path
								d='m497 440.91m-495.34-359.83c0 0 260.54-98.26 402.34-41.17 154 62 105 199-36 209-92.19 6.53-181-49-290 0-135.96 61.11-72.72 282.95 154 232 89-20 177-32 264-18'
								stroke='white'
								strokeWidth='0.375rem'
								fill='none'
								className={styles.maskline}
							/>
						</mask>
					</defs>
					<path
						id='Layer 1'
						className={styles.grayline}
						d='m497 440.91m-495.34-359.83c0 0 260.54-98.26 402.34-41.17 154 62 105 199-36 209-92.19 6.53-181-49-290 0-135.96 61.11-72.72 282.95 154 232 89-20 177-32 264-18'
					/>
					<path
						id='Layer 1'
						className={styles.colorline}
						d='m497 440.91m-495.34-359.83c0 0 260.54-98.26 402.34-41.17 154 62 105 199-36 209-92.19 6.53-181-49-290 0-135.96 61.11-72.72 282.95 154 232 89-20 177-32 264-18'
						mask='url(#progress-mask)'
					/>
					{/* <path
						id='Layer 2'
						className={styles.arrowhead}
						d='m478 446l22 18-23 11'
					/> */}
				</svg>
			</div>
		</div>
	);
};

export default TreasureMap;
